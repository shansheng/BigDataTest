<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- Required Meta Tags Always Come First -->
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<#include '../common/stylesheets1.html'>
<link href="${request.contextPath}/assets/stylesheets/pages/gwdata.css" rel="stylesheet">
<link href="${request.contextPath}/assets/stylesheets/header.css" rel="stylesheet">
<link href="${request.contextPath}/assets/stylesheets/font-awesome.min.css" rel="stylesheet">
<link href="${request.contextPath}/assets/stylesheets/swiper.min.css" rel="stylesheet">
<title>学情</title>
<style>
.d3-tree{
	overflow: auto;
}
.node circle {
	fill: #555;
	stroke: #555;
	stroke-width: 1px;
}

.node {
	font: 12px sans-serif;
}

.link {
	fill: none;
	stroke: #ccc;
	stroke-width: 1.5px;
}
.axis path,.axis line{
	fill: none;
	stroke: black;
	shape-rendering: crispEdges;
}
 
.axis text {
	font-family: sans-serif;
	font-size: 11px;
}
.axis-line{
	stroke: #ddd !important;
}
.myrect{
	fill :rgba(66, 139, 202, 0.56);
}
.text-num{
	fill: #4caf50;
}
 .link {
        fill: none;
        stroke: #555;
        stroke-opacity: 0.4;
        stroke-width: 1px;
    }
    text {
        font-family: "Arial Black", Gadget, sans-serif;
        fill: black;
        font-weight: bold;
        font-size: 14px
    }

    .xAxis .tick text{
        fill: black;
    }
    .grid .tick line{
        stroke: grey;
        stroke-dasharray: 5, 10;
        opacity: 0.7;
    }
    .grid path{
        stroke-width: 0;
    }

    .node circle {
        fill: #999;
    }
    .node--internal circle {
        fill: #555;
    }
    .node--internal text {
        font-size: 16px;
        text-shadow: 0 2px 0 #fff, 0 -2px 0 #fff, 2px 0 0 #fff, -2px 0 0 #fff;
    }
    .node--leaf text {
        fill: black;
    }
    .ballG text {
        fill: white;
    }


.circle{
    width: 50px;
    height: 50px;
    background: #ffb400;
    text-align: center;
    border-radius: 50%;
    line-height: 49px;
    color: #fff;

}

.pmfont{
font-size: 16px;
    line-height: 50px;
}

.pmcircle{
width: 20px;
    height: 20px;
    background: #ccc;
    border-radius: 50%;
    color: #fff;
    text-align: center;
    /* padding: 2px 10px 0 0; */
    margin: 14px 10px;
}

.xsshow{
border:1px solid #409A44;
}

.checkboxs{
  overflow:hidden;
  max-width:253.5px
}

body {
    padding: 0;
    margin: 0;
    font-family: "microsoft yahei"!important;
    background: #f1f4f6;
    min-width: 1400px;
    height: 100%;
    position: absolute!important;
}
</style>
</head>
<body>
<div class="container-fluid">
<#include '../learning/learnLeft.html'>
<div class="main-right">
<#include '../learning/learnHeader.html'>
<div class="col-xs-12">
<div class="panel panel-default panel-box" style="margin-top: 20px;">
    <div class="panel-body">
      <div class="swiper-container" style="padding:0 35px">
      <div class="swiper-wrapper">
             <div class="swiper-slide checkboxs select" id="sdsyzyjsxy">
	         <a href="javascript:void(0)" class="cred" onclick="getdatas('sdsyzyjsxy',1,'学校H')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/s1.png"  class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#244ACC;">学校H</span>
		         </div>
		         <div class="clearfix"></div>
	         </a>
         </div>
        <div class="swiper-slide checkboxs"id="dzzyjsxy">
	         <a href="javascript:void(0)" class="cblue" onclick="getdatas('dzzyjsxy',1,'学校E')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/S4.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#D3260A;">学校E</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
       <div class="swiper-slide checkboxs" id="gdjd">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('gdjd',1,'学校F')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/gd.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#2E4A9A;margin-left:3px;">学校F</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
        <div class="swiper-slide checkboxs" id="jnzyxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('jnzyxy',1,'学校J')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/S2.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#173793;">学校J</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" id="sddzzyjsxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('sddzzyjsxy',1,'学校A')">
		         <div class="pull-left schoolName">
		         	<span style="color:#4067D6;">学校A</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" id="sdslzyxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('sdslzyxy',1,'学校C')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/S8.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#0C4F73;">学校C</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" id="whhyzyjsxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('whhyzyjsxy',1,'学校I')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/S5.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#1C4BA4;">学校I</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" id="zzkjzyjsxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('zzkjzyjsxy',1,'学校B')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/zzzy.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#0F88DC;">学校B</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" id="zqgs">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('zqgs',1,'学校G')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/cqgszy.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#C71D06;">学校G</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
         <div class="swiper-slide checkboxs" style="height:66px;" id="zbzyxy">
	         <a href="javascript:void(0)" class="cyellow" onclick="getdatas('zbzyxy',1,'学校D')">
		         <div class="pull-left schoolName">
		         	<img src="../assets/images/S6.png" class="hidden-sm hidden-xs hidden-md" style="float:left;height:50px;width:50px">
		         	<span style="color:#15AC55;">学校D</span>
		         </div>
		          <div class="clearfix"></div>
	         </a>
         </div>
        </div>
       
        <!-- Add Arrows -->
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      
      </div>
        
       
    </div>
</div>
</div>

<div class="col-xs-12">
<div class="panel panel-default panel-box">
	<div class="panel-heading" id="fanx">
		<h3 class="panel-title">
		【培养方案】学校K
		</h3>
	</div>
	<div class="panel-body">
	<div class="col-xs-10">
		 <div id="main" style="width: 100%;height:550px"></div>
		 </div>
		
		 <div class="col-xs-2" style="padding: 150px 10px;">
 <div class="mb50">
   <p style="text-align: center;font-size: 25px;margin-bottom: 0;" id="ct">25</p>
   <p style="text-align: center;">[课程总数]</p>
  </div>


 <div class="mb50">
   <p style="text-align: center;font-size: 25px;margin-bottom: 0;color:red" id="to">2160</p>
   <p style="text-align: center;color:red;">[总学时]</p>
  </div>
  
   <div class="mb50">
   <p style="text-align: center;font-size: 25px;margin-bottom: 0;" id="tf">132</p>
   <p style="text-align: center;">[总学分]</p>
  </div>
</div>
		 <div class="clearfix"></div>
	</div>
</div>
</div>


<div class="col-xs-12">
<div class="panel panel-default panel-box">
	<div class="panel-heading" id="mbx">
		<h3 class="panel-title">
		【培养目标】滨州职业学院
		</h3>
	</div>
	<div class="panel-body">
	<div class="col-xs-12" style="text-align:center">
		  <svg id="main4" width="1020" height="1700"></svg>
		 </div>
	</div>
</div>
</div>

<div class="col-xs-12">
<div class="panel panel-default panel-box">
	<div class="panel-heading">
		<h3 class="panel-title">
		【行业分布】岗位行业情况分析
		</h3>
	</div>
	<div class="panel-body">
	<div class="col-xs-6">
	
		   <div class="col-xs-12" id="0" style="font-size: 17px;padding-bottom: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">最佳匹配岗位排行</div>
		   <div class="pull-right">匹配度</div>
		   <div class="clearfix"></div>
		  </div>
		  
		  <div id="gw">
		   <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">1</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		  
		     <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">2</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		  
		     <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">3</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		  
		     <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">4</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		   
		     <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">5</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		  
		   <div class="col-xs-12" style="padding: 10px; border-bottom: 1px solid #ccc;">
		   <div class="pull-left">
			<div class="pmcircle pull-left">6</div>  
		    <div class="pmfont pull-left"> 移动开发</div>
		  </div>
		   <div class="pull-right circle">80%</div>
		   <div class="clearfix"></div>
		  </div>
		  </div>
		 </div>
		 
		 
		 
		 <div class="col-xs-6">
		 <div class="col-xs-12" style="font-size: 17px;padding-bottom: 10px; border-bottom: 1px solid #ccc;">培养目标对比</div>
		 <div id="main1" style="width: 100%;height:500px"></div>
		 </div>
		
	</div>
</div>
</div>

</div>
</div>
<#include '../common/javascripts.html'>
<script src="${request.contextPath}/assets/javascripts/echarts3/echarts.min.js" type="text/javascript"></script>
<script src="${request.contextPath}/assets/javascripts/swiper.min.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
var appendNumber = 7;
var prependNumber = 1;
var swiper = new Swiper('.swiper-container', {
    pagination: '.swiper-pagination',
    nextButton: '.swiper-button-next',
    prevButton: '.swiper-button-prev',
    slidesPerView: 6,

    paginationClickable: true,
    spaceBetween: 10,
});

	var chart = echarts.init(document.getElementById('main'));      
	var chart1 = echarts.init(document.getElementById('main1'));    
	
	
	$(function() {
		$("#schoolfa").addClass("liactive")
		getdatas("sdsyzyjsxy","0","山东商业职业技术学院"); // 0为初始化
// 		choosecsv("sdsyzyjsxy");
		tree("sdsyzyjsxy.csv");
		var tmp="<a href='${request.contextPath}/'>首页</a><span style='padding:0 10px'>&gt;</span><a href='${request.contextPath}/learning/index'>学情</a><span style='padding:0 10px'>&gt;</span><a href='javascript:void(0)'>专业分析</a><span style='padding:0 10px'>&gt;</span><a href='javascript:void(0)'>培养方案</a>"
		$("#route").html(tmp);
	})
	
// function choosecsv(schoolid){
// 	$.ajax({
// 		url : "${request.contextPath}/learning/getcsv",
// 		type : "post",
// 		data : {
// 			schoolid:schoolid
// 		},
// 		success : function(s) {
// 			var sch = s.msg;
// 			var schoolid = sch + ".csv";
// 			tree(schoolid);
// 		}
// 	});
// }
	
	//技能树
// var skillinit="${request.contextPath}/assets/javascripts/skillsdata1.csv";
// tree("sdsyzyjsxy.csv");
function tree(skilldata){
	document.querySelector('svg').innerHTML = '';
     var xScale ;
			   // main svg
		    var svg = d3.select("#main4"),
		            width = +svg.attr("width"),
		            height = +svg.attr("height"),
		            g = svg.append("g").attr("transform", "translate(30,20)");       // move right 20px.

		    // x-scale and x-axis
		    var experienceName = ["", "入门","初级","中级"];
		    var formatSkillPoints = function (d) {
		        return experienceName[d / 50];
		    }
		    var xScale =  d3.scaleLinear()
		            .domain([0,150])
		            .range([0, 400]);

		    var xAxis = d3.axisTop()
		            .scale(xScale)
		            .ticks(3)
		            .tickFormat(formatSkillPoints);

		    // Setting up a way to handle the data
		    var tree = d3.cluster()                 // This D3 API method setup the Dendrogram datum position.
		            .size([height, width - 460])    // Total width - bar chart width = Dendrogram chart width
		            .separation(function separate(a, b) {
		                return a.parent == b.parent            // 2 levels tree grouping for category
		                || a.parent.parent == b.parent
		                || a.parent == b.parent.parent ? 0.4 : 0.8;
		            });

		    var stratify = d3.stratify()            // This D3 API method gives cvs file flat data array dimensions.
		            .parentId(function(d) { return d.id.substring(0, d.id.lastIndexOf(".")); });
            
		    d3.csv(skilldata, row, function(error, data) {
		        if (error) throw error;

		        var root = stratify(data);
		        tree(root);

		        // Draw every datum a line connecting to its parent.
		        var link = g.selectAll(".link")
		                .data(root.descendants().slice(1))
		                .enter().append("path")
		                .attr("class", "link")
		                .attr("d", function(d) {
		                    return "M" + d.y + "," + d.x
		                            + "C" + (d.parent.y + 100) + "," + d.x
		                            + " " + (d.parent.y + 100) + "," + d.parent.x
		                            + " " + d.parent.y + "," + d.parent.x;
		                });

		        // Setup position for every datum; Applying different css classes to parents and leafs.
		        var node = g.selectAll(".node")
		                .data(root.descendants())
		                .enter().append("g")
		                .attr("class", function(d) { return "node" + (d.children ? " node--internal" : " node--leaf"); })
		                .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

		        // Draw every datum a small circle.
		        node.append("circle")
		                .attr("r", 4);

		        // Setup G for every leaf datum.
		        var leafNodeG = g.selectAll(".node--leaf")
		                .append("g")
		                .attr("class", "node--leaf-g")
		                .attr("transform", "translate(" + 8 + "," + -13 + ")");

		        leafNodeG.append("rect")
		                .attr("class","shadow")
		                .style("fill", function (d) {return d.data.color;})
		                .attr("width", 2)
		                .attr("height", 30)
		                .attr("rx", 2)
		                .attr("ry", 2)
		                .transition()
		                    .duration(800)
		                    .attr("width", function (d) {return xScale(d.data.value);});

		        leafNodeG.append("text")
		                .attr("dy", 19.5)
		                .attr("x", 8)
		                .style("text-anchor", "start")
		                .text(function (d) {
		                    return d.data.id.substring(d.data.id.lastIndexOf(".") + 1);
		                });

		        // Write down text for every parent datum
		        var internalNode = g.selectAll(".node--internal");
		        internalNode.append("text")
		                .attr("y", -10)
		                .style("text-anchor", "middle")
		                .text(function (d) {
		                    return d.data.id.substring(d.data.id.lastIndexOf(".") + 1);
		                });

		        // Attach axis on top of the first leaf datum.
		        var firstEndNode = g.select(".node--leaf");
		            firstEndNode.insert("g")
		                    .attr("class","xAxis")
		                    .attr("transform", "translate(" + 7 + "," + -14 + ")")
		                    .call(xAxis);

		            // tick mark for x-axis
		            firstEndNode.insert("g")
		                    .attr("class", "grid")
		                    .attr("transform", "translate(7," + (height - 15) + ")")
		                    .call(d3.axisBottom()
		                            .scale(xScale)
		                            .ticks(5)
		                            .tickSize(-height, 0, 0)
		                            .tickFormat("")
		                    );

		        // Emphasize the y-axis baseline.
		        svg.selectAll(".grid").select("line")
		                .style("stroke-dasharray","20,1")
		                .style("stroke","black");

		        // The moving ball
		        var ballG = svg.insert("g")
		                .attr("class","ballG")
		                .attr("transform", "translate(" + 1100 + "," + height/2 + ")");
		        ballG.insert("circle")
		                .attr("class","shadow")
		                .style("fill","steelblue")
		                .attr("r", 5);
		        ballG.insert("text")
		                .style("text-anchor", "middle")
		                .attr("dy",5)
		                .text("0.0");

		        // Animation functions for mouse on and off events.
		        d3.selectAll(".node--leaf-g")
		                .on("mouseover", handleMouseOver)
		                .on("mouseout", handleMouseOut);

		        function handleMouseOver(d) {
		            var leafG = d3.select(this);

		            leafG.select("rect")
		                    .attr("stroke","#4D4D4D")
		                    .attr("stroke-width","2");


		            var ballGMovement = ballG.transition()
		                    .duration(400)
		                    .attr("transform", "translate(" + (d.y
		                            + xScale(d.data.value) + 90) + ","
		                            + (d.x + 1.5) + ")");

		            ballGMovement.select("circle")
		                    .style("fill", d.data.color)
		                    .attr("r", 23);

		            ballGMovement.select("text")
		                    .delay(300)
		                    .text(Number(d.data.value).toFixed(1));
		        }
		        function handleMouseOut() {
		            var leafG = d3.select(this);

		            leafG.select("rect")
		                    .attr("stroke-width","0");
		        }

		    });

		    function row(d) {
		        return {
		            id: d.id,
		            value: +d.value,
		            color: d.color
		        };
		    }
		    
}
	
	
	function getdatas(id,status,name){
		if(status=="1"){
		$(".checkboxs").removeClass("select");
		$("#"+id).addClass("select");
		}
		var csv = id + ".csv";
		pie(id,name);//饼图
		rader(id,name);
		tree(csv);
	}
	
	
	
	function pie(schoolid,schoolname){
		var trs = "";
		trs += "<h3 class=\"panel-title\">";
		trs += "【培养方案】 "+ schoolname +"";
		trs += "</h3>";
		$("#fanx").html(trs);
		$.ajax({
			url : "${request.contextPath}/learning/getrctest",
			type : "post",
			data : {
				schoolid:schoolid
			},
			success : function(s) {
				var datares = JSON.parse(s.msg.res);
				var dataser = JSON.parse(s.msg.ser);
				var length = s.msg.length;
				var num = s.msg.num;
				var cre = s.msg.cre;
				$("#ct").html(length);
				$("#to").html(num);
				$("#tf").html(cre);
				var str="";
				str+=""+length+"";
				$("#kz").append(str);
				option1 = {
					    tooltip: {
					        trigger: 'item',
					        formatter: "{a} <br/>{b}: {c} ({d}%)"
					    },
					    
					    series: [
					        {
					        	name:'分类课程',
					            type:'pie',
					            selectedMode: 'single',
					            radius: [0, '40%'],

					            label: {
					                normal: {
					                    position: 'inner'
					                }
					            },
					            labelLine: {
					                normal: {
					                    show: false
					                }
					            },
					            data:dataser
					        },
					        {
					        	name:'详细课程',
					            type:'pie',
					            radius: ['50%', '70%'],
					            label: {
					                normal: {
					                    show: false
					                }
					            },
					            labelLine: {
					                normal: {
					                    show: false
					                }
					            },
					            data:datares
					        }
					    ]
					};
				chart.setOption(option1);
			}
		});
	}
	
	
	function rader(schoolid,schoolname){
		var trs = "";
		trs += "<h3 class=\"panel-title\">";
		trs += "【培养目标】 "+ schoolname +"";
		trs += "</h3>";
		$("#mbx").html(trs);
		$.ajax({
			url : "${request.contextPath}/learning/getradartest",
			type : "post",
			data : {
				schoolid:schoolid
			},
			success : function(s) {
				var jo = s.other;
				var str="";
				for(var i=0;i<jo.length;i++){
					var jobname = jo[i].jobname;
					var similarty =  Math.round(jo[i].similarty*100);
					var index = i+1;
					str+="<div class=\"col-xs-12\" id='"+index+"' style=\"cursor:pointer;padding: 10px; border-bottom: 1px solid #ccc;\" onclick=\"changeradar('"+index+"','"+jobname+"','"+schoolid+"')\">";
					str+="<div class=\"pull-left\">";
					str+="<div class=\"pmcircle pull-left\">" + index + "</div>";
					str+="<div class=\"pmfont pull-left\">" + jobname + "</div>";
					str+="</div>";
					str+="<div class=\"pull-right circle\">" + similarty + "%" + "</div>";
					str+="<div class=\"clearfix\"></div>";
					str+="</div>";
				}
			$("#gw").html(str);
			var skls = JSON.parse(s.msg.skls);
			var major = JSON.parse(s.msg.major);
			var job = JSON.parse(s.msg.job);
			option2 = {
				   
				    tooltip: {},
				    legend: {
				        data: ['培养目标', '市场需求']
				    },
				    radar: {
				        // shape: 'circle',
				        name: {
				            textStyle: {
				                color: '#000',
				                backgroundColor: '#999',
				                borderRadius: 3,
				                padding: [3, 5]
				           }
				        },
				        indicator: skls
				    },
				    series: [{
				    	name: '',
				        type: 'radar',
				        // areaStyle: {normal: {}},
				        data : [
				            {
				                value : major,
				                name : '培养目标'
				            },
				             {
				                value : job,
				                name : '市场需求'
				            }
				        ]
				    }]
				};
			chart1.setOption(option2);
			}
		});
	}
	
	function changeradar(id,jobname,schoolid){
		$("#0").css("border-bottom","1px solid #ccc");
		$("#1").css("border-bottom","1px solid #ccc");
		$("#2").css("border-bottom","1px solid #ccc");
		$("#3").css("border-bottom","1px solid #ccc");
		$("#4").css("border-bottom","1px solid #ccc");
		$("#5").css("border-bottom","1px solid #ccc");
		$("#0").removeClass("xsshow");
		$("#1").removeClass("xsshow");
		$("#2").removeClass("xsshow");
		$("#3").removeClass("xsshow");
		$("#4").removeClass("xsshow");
		$("#5").removeClass("xsshow");
		var ids = id-1;
		$("#"+ids).css("border-bottom","0px solid #409A44");
		$("#"+id).addClass("xsshow");
		$("#"+id).css("border-bottom","1px solid #409A44");
		$.ajax({
			url : "${request.contextPath}/learning/changeradar",
			type : "post",
			data : {
				schoolid:schoolid,
				jobname:jobname
			},
			success : function(s) {
				var skls = JSON.parse(s.msg.skls);
				var major = JSON.parse(s.msg.major);
				var job = JSON.parse(s.msg.job);
				option2 = {
						   
					    tooltip: {},
					    legend: {
					        data: ['培养目标', '市场需求']
					    },
					    radar: {
					        // shape: 'circle',
					        name: {
					            textStyle: {
					                color: '#000',
					                backgroundColor: '#999',
					                borderRadius: 3,
					                padding: [3, 5]
					           }
					        },
					        indicator: skls
					    },
					    series: [{
					    	name: '',
					        type: 'radar',
					        // areaStyle: {normal: {}},
					        data : [
					            {
					                value : major,
					                name : '培养目标'
					            },
					             {
					                value : job,
					                name : '市场需求'
					            }
					        ]
					    }]
					};
				chart1.setOption(option2);
			}
		});
	}
</script>

</body>
</html>