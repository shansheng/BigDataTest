/*!
 * Distpicker v1.0.4
 * https://github.com/fengyuanchen/distpicker
 *
 * Copyright (c) 2014-2016 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2016-06-01T15:05:52.606Z
 */(function(a){"function"===typeof define&&define.amd?define(["jquery","ChineseDistricts"],a):"object"===typeof exports?a(require("jquery"),require("ChineseDistricts")):a(jQuery,ChineseDistricts)})(function(a,m){function c(b,e){this.$element=a(b);this.options=a.extend({},c.DEFAULTS,a.isPlainObject(e)&&e);this.placeholders=a.extend({},c.DEFAULTS);this.active=!1;this.init()}if("undefined"===typeof m)throw Error('The file "distpicker.data.js" must be included first!');c.prototype={constructor:c,init:function(){var b=this.options,e=this.$element.find("select"),c=e.length,d={};e.each(function(){a.extend(d,a(this).data())});a.each(["province","city","district"],a.proxy(function(a,f){d[f]?(b[f]=d[f],this["$"+f]=e.filter("[data-"+f+"]")):this["$"+f]=c>a?e.eq(a):null},this));this.bind();this.reset();this.active=!0},bind:function(){if(this.$province)this.$province.on("change.distpicker",this._changeProvince=a.proxy(function(){this.output("city");this.output("district")},this));if(this.$city)this.$city.on("change.distpicker",this._changeCity=a.proxy(function(){this.output("district")},this))},unbind:function(){this.$province&&this.$province.off("change.distpicker",this._changeProvince);this.$city&&this.$city.off("change.distpicker",this._changeCity)},output:function(b){var e=this.options,c=this.placeholders,d=this["$"+b],g={},f=[],h,n,k;d&&d.length&&(k=e[b],h="province"===b?86:"city"===b?this.$province&&this.$province.find(":selected").data("code"):"district"===b?this.$city&&this.$city.find(":selected").data("code"):h,g=a.isNumeric(h)?m[h]:null,a.isPlainObject(g)&&a.each(g,function(a,b){var d=b===k;d&&(n=!0);f.push({code:a,address:b,selected:d})}),n||(f.length&&(e.autoSelect||e.autoselect)&&(f[0].selected=!0),!this.active&&k&&(c[b]=k)),e.placeholder&&f.unshift({code:"",address:c[b],selected:!1}),d.html(this.getList(f)))},getList:function(b){var c=[];a.each(b,function(a,b){c.push('\x3coption value\x3d"'+(b.address&&b.code?b.address:"")+'" data-code\x3d"'+(b.code||"")+'"'+(b.selected?" selected":"")+"\x3e"+(b.address||"")+"\x3c/option\x3e")});return c.join("")},reset:function(a){a?this.$province&&this.$province.find(":first").prop("selected",!0).trigger("change.distpicker"):(this.output("province"),this.output("city"),this.output("district"))},destroy:function(){this.unbind();this.$element.removeData("distpicker")}};c.DEFAULTS={autoSelect:!0,placeholder:!0,province:"\u2014\u2014 \u7701 \u2014\u2014",city:"\u2014\u2014 \u5e02 \u2014\u2014",district:"\u2014\u2014 \u533a \u2014\u2014"};c.setDefaults=function(b){a.extend(c.DEFAULTS,b)};c.other=a.fn.distpicker;a.fn.distpicker=function(b){var e=[].slice.call(arguments,1);return this.each(function(){var l=a(this),d=l.data("distpicker"),g;if(!d){if(/destroy/.test(b))return;d=a.extend({},l.data(),a.isPlainObject(b)&&b);l.data("distpicker",d=new c(this,d))}"string"===typeof b&&a.isFunction(g=d[b])&&g.apply(d,e)})};a.fn.distpicker.Constructor=c;a.fn.distpicker.setDefaults=c.setDefaults;a.fn.distpicker.noConflict=function(){a.fn.distpicker=c.other;return this};a(function(){a('[data-toggle\x3d"distpicker"]').distpicker()})});